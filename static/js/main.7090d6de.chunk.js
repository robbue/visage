(this["webpackJsonpclose-your-eyes"]=this["webpackJsonpclose-your-eyes"]||[]).push([[0],{14:function(t,e){t.exports={VERSION:"0.1.0",SITE_NAME:"Close your eyes",SITE_DESCRIPTION:"",PRODUCTION_DOMAIN:"https://closeyoureyes.no",PRODUCTION_NAKED_DOMAIN:"closeyoureyes.no",LOCALE:"nb",GA_TRACKING_ID:"",ARTIST_NAME:"Karpe",SONG_TITLE:"Project X",AUDIO_FILE:"firestone.mp3",FACEBOOK_URL:"//www.facebook.com/closeyoureyes/",INSTAGRAM_URL:"//www.instagram.com/closeyoureyes/",SPOTIFY_URL:"//www.instagram.com/closeyoureyes/",paths:{index:{name:"Close your eyes",url:"/"}}}},26:function(t,e,n){t.exports=n.p+"static/media/img1.43f88bca.jpg"},27:function(t,e,n){t.exports=n.p+"static/media/img2.0ee01d22.jpg"},29:function(t,e,n){t.exports=n(60)},60:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(20),o=n.n(r),s=n(1),c=n(2);function l(){var t=Object(s.a)(["\n text-align: center;\n"]);return l=function(){return t},t}var u=c.c.div(l()),h=n(16),d=n.n(h),f=n(8),p=n(10),m=n(12),g=n(11),v=n(4),b=n(13),y=n(5),w=n(15),x=n(3),k={body:"'Roboto', sans-serif",header:"'Merriweather', serif"},O={xsmall:"14px",small:"14px",medium:"15px",large:"16px",xlarge:"17px",xxlarge:"18px",lowheight:"14px"},_={h1:"50px",h2:"44px",h3:"26px",h4:"22px",h5:"20px",h6:"18px"},j={h1:"50px",h2:"54px",h3:"38px",h4:"30px",h5:"26px",h6:"22px",h7:"20px",h8:"18px"},E={light:300,normal:400,medium:500,bold:700,extrabold:800},C={primary:"#bd9b60",secondary:"#00292e",tertiary:"#00292e",accent:"#a76e5e",fadedPrimary:"#204038",fadedSecondary:"#214549",fadedX2Secondary:"#4D6A6D",header:"#000000",text:"#000000",success:"green",warning:"yellow",error:"red",dark:"#000000",medium:"#656565",grey:"#bbbcbc",light:"#d9d9d6",white:"#ffffff",facebook:"#3b5998",messenger:"#0084ff",twitter:"#1da1f2",youtube:"#bb0000",darkLogo:"#002a31",darkLink:"#003338",darkHover:"#002a31"},S={xsmall:300,small:360,medium:768,large:1024,xlarge:1441,xxlarge:1921,lowheight:760};function P(){var t=Object(s.a)(["\n\t  @media (max-height: ","em) and (min-width: 1024px) {\n\t    ","\n\t  }\n\t"]);return P=function(){return t},t}function R(){var t=Object(s.a)(["\n\t  @media (min-width: ","em) {\n\t    ","\n\t  }\n\t"]);return R=function(){return t},t}var M=Object.keys(S).reduce((function(t,e){var n=Math.round(S[e]/16);return t[e]=function(){return Object(c.b)(R(),n,c.b.apply(void 0,arguments))},t}),{});Object.keys(S).reduce((function(t,e){var n=Math.round(S[e]/16);return t[e]=function(){return Object(c.b)(P(),n,c.b.apply(void 0,arguments))},t}),{}),Object.keys(S).reduce((function(t,e){var n=Math.round(S[e]/16);return"undefined"!==typeof window&&(t[e]=window.matchMedia("(min-width: ".concat(n,"em")).matches),t}),{});function $(){var t=Object(s.a)(["\n\t","\n"]);return $=function(){return t},t}function T(){var t=Object(s.a)(["\n\tfont-size: ",";\n\tcolor: ",";\n\tline-height: 1.4;\n\tfont-family: ",";\n\ttext-align: ",";\n\n\tmargin: 0 0 "," 0;\n"]);return T=function(){return t},t}var A=c.c.p($(),(function(t){return Object(c.b)(T(),(function(t){return t.fontSize?Object(x.d)("".concat(t.fontSize,"px")):Object(x.d)(O.medium)}),(function(t){return t.color?t.color:C.text}),k.body,(function(t){return t.textAlign?t.textAlign:"inherit"}),Object(x.a)("15px"))}));function I(){var t=Object(s.a)(["\n\t","\n\tcolor: ",";\n\ttext-align: ",";\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: currentColor;\n\t}\n"]);return I=function(){return t},t}function L(){var t=Object(s.a)(["\n\t\tfont-size: ",";\n\t"]);return L=function(){return t},t}function H(){var t=Object(s.a)(["\n\tposition: relative;\n\n\tfont-family: ",";\n\tfont-weight: ",";\n\tfont-style: normal;\n\tfont-size: ",";\n\tline-height: 0.95;\n\n\tdisplay: inline-block;\n\tmargin: 0 0  "," 0;\n\tpadding: 0;\n\n\t","\n\n\t a {\n\t   text-decoration: none;\n\t \t color: ",";\n\t }\n"]);return H=function(){return t},t}var z=c.c.h2(I(),(function(t){return Object(c.b)(H(),k.header,E.bold,(function(t){return Object(x.d)(_[t.rank])}),(function(t){return t.mb?Object(x.d)("".concat(t.mb,"px")):Object(x.d)("20px")}),M.large(L(),(function(t){return Object(x.d)(j[t.rank])})),C.primary)}),(function(t){return t.color?t.color:C.text}),(function(t){return t.textAlign?t.textAlign:"inherit"})),F=function(t){var e=t.color,n=t.rank,r=void 0===n?2:n,o=t.asRank,s=t.children,c=t.className,l=t.underLine,u=t.textAlign,h=t.asTag,d=(t.onClick,r>6?"h6":"h".concat(r)),f=d;return h&&(d=h),o&&(f="h".concat(o)),a.a.createElement(z,{textAlign:u,color:e,rank:f,as:d,className:c,underLine:l},i.Children.toArray(s))},D=n(24),G=n.n(D);n(58);function N(){var t=Object(s.a)(["\n\twidth: 100%;\n\tfont-size: ",";\n\tcolor: ",";\n\tmargin: 0;\n\tpadding: 0;\n"]);return N=function(){return t},t}function U(){var t=Object(s.a)(["\n\tmargin-right: ",";\n"]);return U=function(){return t},t}function W(){var t=Object(s.a)(["\n\tfont-size: ",";\n\n\tdisplay: inline-flex;\n\n\talign-items: center;\n\ttext-align: left;\n"]);return W=function(){return t},t}var B=c.c.div(W(),Object(x.d)("16px")),V=Object(c.c)(G.a)(U(),Object(x.a)("20px")),Y=Object(c.c)(A)(N(),Object(x.d)("12px"),C.medium),K=a.a.forwardRef((function(t,e){return a.a.createElement(B,{ref:e},a.a.createElement(V,{type:"Triangle",color:C.primary,height:60,width:60}),t.children&&a.a.createElement(Y,null,t.children))})),q=n(14),X=n.n(q);function J(){var t=Object(s.a)(["\n\tfont-family: ",";\n\tfont-size: ",";\n\tcolor: ",";\n\tline-height: 1.8;\n\n\tpadding: 0 ",";\n\tmargin: 0;\n\tdisplay: none;\n"]);return J=function(){return t},t}function Q(){var t=Object(s.a)(["\n\n"]);return Q=function(){return t},t}y.a.registerPlugin(w.a);var Z=c.c.div(Q()),tt=c.c.p(J(),k.header,Object(x.d)(O.large),C.text,Object(x.d)("25px")),et=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(m.a)(this,Object(g.a)(e).call(this,t))).state={sdkLoaded:!1},n.$text1=a.a.createRef(),n.$text2=a.a.createRef(),n.$text3=a.a.createRef(),n.$text4=a.a.createRef(),n.$text5=a.a.createRef(),n}return Object(b.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this._tl([this.$text1.current,this.$text2.current,this.$text3.current,this.$text4.current,this.$text5.current])}},{key:"componentDidUpdate",value:function(t){t.sdkLoaded!==this.props.sdkLoaded&&!0===this.props.sdkLoaded&&this.introTimeline.play()}},{key:"_tl",value:function(t){this.introTimeline=y.a.timeline({paused:!0,onComplete:this.props.onComplete});for(var e=0;e<t.length;e++){var n=t[e],i=new w.a(n,{type:"words",wordsClass:"word word++"}),a=y.a.timeline().set(n,{display:"block"}).from(i.words,{duration:3,opacity:0,y:3,ease:"power2",stagger:.1},"words").to(i.words,{duration:.2,opacity:0,ease:"power2",stagger:.1}).set(n,{display:"none"});this.introTimeline.add(a)}}},{key:"render",value:function(){return a.a.createElement(Z,null,a.a.createElement(tt,{ref:this.$text1},"I en verden hvor ",a.a.createElement("strong",null,"kampen om v\xe5r oppmerksomhet")," bare blir st\xf8rre."),a.a.createElement(tt,{ref:this.$text2},"S\xe5 tar vi oss ikke tid til ",a.a.createElement("strong",null,"\xe5 faktisk lytte til musikk"),"."),a.a.createElement(tt,{ref:this.$text3},a.a.createElement("strong",null,X.a.ARTIST_NAME)," vil at du skal f\xe5 en fullverdig opplevelse av det nye albumet ",a.a.createElement("strong",null,X.a.SONG_TITLE),"."),a.a.createElement(tt,{ref:this.$text4},"Men det er ",a.a.createElement("strong",null,"en hake"),"..."),a.a.createElement(tt,{ref:this.$text5},"Du m\xe5 ",a.a.createElement("strong",null,"lukke \xf8yene")," for \xe5 lytte til musikken."))}}]),e}(i.PureComponent),nt=n(7),it=function(){function t(e){Object(f.a)(this,t),this.state={mobile:this.innerWidth<1e3},this._loaded=this._loaded.bind(this),this._play=this._play.bind(this),this._pause=this._pause.bind(this),this._fadeIn=this._fadeIn.bind(this),this._fadeOut=this._fadeOut.bind(this),this._resumeCtx=this._resumeCtx.bind(this),this._init()}return Object(p.a)(t,[{key:"_init",value:function(){nt.Howler.autoUnlock=!1,nt.Howler.autoSuspend=!1,this.audioHowl=new nt.Howl({src:[X.a.AUDIO_FILE],volume:0,loop:!1,autoplay:!1}),this.audioHowl.once("load",this._loaded)}},{key:"_loaded",value:function(){!0===nt.Howler.usingWebAudio&&nt.Howler.ctx&&nt.Howler.ctx.addEventListener("statechange",this._resumeCtx)}},{key:"_resumeCtx",value:function(){"undefined"!==typeof nt.Howler.ctx&&nt.Howler.ctx&&"suspended"===nt.Howler.ctx.state&&nt.Howler.ctx.resume()}},{key:"_play",value:function(){console.log("_play"),this.audio=this.audioHowl.play()}},{key:"_pause",value:function(){this.audio&&this.audioHowl.pause(this.audio)}},{key:"_fadeIn",value:function(){this.fadedIn||(this.fadedIn=!0,this.fadedOut=!1,this.audioHowl.off("fade"),this.audio=this.audioHowl.play(this.audio),this.state.mobile?this.audioHowl.volume(1):this.audioHowl.fade(this.audioHowl._volume,1,2e3))}},{key:"_fadeOut",value:function(){var t=this;this.fadedOut||(this.fadedOut=!0,this.fadedIn=!1,this.audioHowl.off("fade"),this.state.mobile?this.audioHowl.volume(0):(this.audioHowl.once("fade",(function(e){t.audioHowl.pause(t.audio).volume(0)})),this.audioHowl.fade(this.audioHowl._volume,0,2e3)))}}]),t}();function at(){return(at=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function rt(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var ot=a.a.createElement("path",{d:"M257,15.4c-109,0-197.3,88.4-197.3,197.3S148,410.1,257,410.1s197.3-88.4,197.3-197.3S366,15.4,257,15.4z M257,300   c-48.2,0-87.3-39.1-87.3-87.3s39.1-87.3,87.3-87.3s87.3,39.1,87.3,87.3S305.2,300,257,300z"}),st=a.a.createElement("path",{d:"M381.5,391.6C345.9,416.4,302.6,431,256,431s-89.9-14.6-125.5-39.4L6,462.4v34.2h500v-34.2L381.5,391.6z"}),ct=a.a.createElement("circle",{cx:257,cy:212.8,r:39.3}),lt=function(t){var e=t.svgRef,n=t.title,i=rt(t,["svgRef","title"]);return a.a.createElement("svg",at({viewBox:"0 0 512 512",ref:e},i),n?a.a.createElement("title",null,n):null,ot,st,ct)},ut=a.a.forwardRef((function(t,e){return a.a.createElement(lt,at({svgRef:e},t))}));n.p;function ht(){return(ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function dt(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var ft=a.a.createElement("g",{transform:"translate(-2.4722222222222285 -2.4722222222222285) scale(4.94 4.94)"},a.a.createElement("path",{d:"M 45 0 C 25.463 0 9.625 15.838 9.625 35.375 c 0 8.722 3.171 16.693 8.404 22.861 L 45 90 l 26.97 -31.765 c 5.233 -6.167 8.404 -14.139 8.404 -22.861 C 80.375 15.838 64.537 0 45 0 z M 45 48.705 c -8.035 0 -14.548 -6.513 -14.548 -14.548 c 0 -8.035 6.513 -14.548 14.548 -14.548 s 14.548 6.513 14.548 14.548 C 59.548 42.192 53.035 48.705 45 48.705 z",transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"})),pt=function(t){var e=t.svgRef,n=t.title,i=dt(t,["svgRef","title"]);return a.a.createElement("svg",ht({viewBox:"0 0 445 445",ref:e},i),n?a.a.createElement("title",null,n):null,ft)},mt=a.a.forwardRef((function(t,e){return a.a.createElement(pt,ht({svgRef:e},t))}));n.p;function gt(){var t=Object(s.a)([""]);return gt=function(){return t},t}function vt(){var t=Object(s.a)([""]);return vt=function(){return t},t}function bt(){var t=Object(s.a)(["\n\tfont-family: ",";\n\tfont-size: ",";\n\tcolor: ",";\n\tline-height: 1.8;\n\n\tpadding: 0 ",";\n\tmargin: 0;\n\tdisplay: none;\n"]);return bt=function(){return t},t}function yt(){var t=Object(s.a)(["\n\tdisplay: inline-flex;\n\talign-items: center;\n\tposition: relative;\n\tfont-size: ",";\n\tfont-weight: ",";\n\ttext-transform: uppercase;\n\n\tpadding: "," ",";\n\tmargin-top: ",";\n\tcursor: pointer;\n\toverflow: hidden;\n\n\tborder: 1px solid ",";\n\ttransition: border 250ms ease, color 250ms ease;\n\n\t&::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\tz-index: -1;\n\t\ttop: 100%;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: ",";\n\t\ttransition: transform 250ms ease;\n\t}\n\n\t&:hover {\n\t\t// border-color: ",";\n\t\tborder-color: ",";\n\t\tcolor: ",";\n\n\t\t&::after {\n\t\t\ttransform: translateY(-100%);\n\t\t}\n\n\t\t"," {\n\n\t\t}\n\n\t\t"," {\n\t\t\tpath {\n\t\t\t\tfill: ",";\n\t\t\t}\n\t\t}\n\t}\n"]);return yt=function(){return t},t}function wt(){var t=Object(s.a)(["\n\twidth: ",";\n\theight: ",";\n\tmargin-right: ",";\n\n\tpath {\n\t\tfill: ",";\n\t\tstroke: none;\n\t\tstroke-width: 1;\n\t\tstroke-dasharray: none;\n\t\tstroke-linecap: butt;\n\t\tstroke-linejoin: miter;\n\t\tstroke-miterlimit: 10;\n\t\tfill-rule: nonzero;\n\t\ttransition: fill 250ms ease;\n\t}\n"]);return wt=function(){return t},t}function xt(){var t=Object(s.a)(["\n\twidth: ",";\n\theight: ",";\n\tmargin-right: ",";\n\n\tpath, circle {\n\t\tfill: ",";\n\t\ttransition: fill 250ms ease;\n\t}\n"]);return xt=function(){return t},t}function kt(){var t=Object(s.a)(["\n\tposition: fixed;\n\tz-index: 99;\n\tbottom: 50px;\n\tright: 0;\n\twidth: 50px;\n\theight: 50px;\n\n\t&:hover {\n\t\tbackground: grey;\n\t}\n"]);return kt=function(){return t},t}function Ot(){var t=Object(s.a)(["\n\tposition: fixed;\n\tz-index: 99;\n\tbottom: 0;\n\tright: 0;\n\twidth: 50px;\n\theight: 50px;\n\n\t&:hover {\n\t\tbackground: grey;\n\t}\n"]);return Ot=function(){return t},t}function _t(){var t=Object(s.a)([""]);return _t=function(){return t},t}function jt(){var t=Object(s.a)([""]);return jt=function(){return t},t}function Et(){var t=Object(s.a)([""]);return Et=function(){return t},t}function Ct(){var t=Object(s.a)([""]);return Ct=function(){return t},t}function St(){var t=Object(s.a)(["\n\ttext-align: center;\n\tdisplay: none;\n"]);return St=function(){return t},t}function Pt(){var t=Object(s.a)(["\n\tposition: absolute;\n\tz-index: 2;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]);return Pt=function(){return t},t}function Rt(){var t=Object(s.a)(["\n\tposition: absolute;\n\tz-index: 100;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\n\tbackground: ",";\n\tvisibility: hidden;\n"]);return Rt=function(){return t},t}function Mt(){var t=Object(s.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n"]);return Mt=function(){return t},t}var $t=c.c.div(Mt()),Tt=c.c.div(Rt(),C.light),At=c.c.div(Pt()),It=c.c.div(St()),Lt=Object(c.c)(It)(Ct()),Ht=Object(c.c)(It)(Et()),zt=Object(c.c)(It)(jt()),Ft=Object(c.c)(It)(_t()),Dt=c.c.button(Ot()),Gt=c.c.button(kt()),Nt=Object(c.c)(ut)(xt(),Object(x.a)("22px"),Object(x.a)("22px"),Object(x.a)("15px"),C.grey),Ut=Object(c.c)(mt)(wt(),Object(x.a)("22px"),Object(x.a)("22px"),Object(x.a)("15px"),C.grey),Wt=c.c.button(yt(),Object(x.d)("12px"),E.medium,Object(x.a)("16px"),Object(x.a)("18px"),Object(x.a)("15px"),C.light,C.dark,Object(x.b)(.1,C.light),C.dark,C.white,Nt,Ut,C.white),Bt=c.c.p(bt(),k.header,Object(x.d)(O.large),C.text,Object(x.d)("25px")),Vt=c.c.canvas(vt()),Yt=(c.c.p(gt()),Math.PI),Kt=Math.abs,qt=(Math.sqrt,Math.pow,Math.random),Xt=Math.atan2,Jt=.5*Yt,Qt=function(t){return t*qt()},Zt=function(t,e,n,i){return Xt(i-e,n-t)},te=function(t,e,n){return(1-n)*t+n*e};y.a.registerPlugin(w.a);var ee=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(m.a)(this,Object(g.a)(e).call(this,t))).state={sdkLoaded:!1,musicLoaded:!1,width:320,height:240,threshold:25,licenseName:"606-555-833-692-564-758-653-442-720-253-644.vlc",licenseURL:"lib/606-555-833-692-564-758-653-442-720-253-644.vlc",eyesClosedSession:"",eyesClosedCount:0,loadingGeo:!1,distance:"0 km",location:{latitude:59.2094395,longitude:9.607377},geoOptions:{maximumAge:0,timeout:1e4,enableHighAccuracy:!0},mobile:n.innerWidth<1e3},n.$preloader=a.a.createRef(),n.$canvas=a.a.createRef(),n.$status=a.a.createRef(),n.$loader=a.a.createRef(),n.$ready=a.a.createRef(),n.$closeYourEyes=a.a.createRef(),n.$completed=a.a.createRef(),n.$locationAccess=a.a.createRef(),n.$location=a.a.createRef(),n._loaded=n._loaded.bind(Object(v.a)(n)),n._songEnd=n._songEnd.bind(Object(v.a)(n)),n._initStream=n._initStream.bind(Object(v.a)(n)),n._canPlayStream=n._canPlayStream.bind(Object(v.a)(n)),n._tick=n._tick.bind(Object(v.a)(n)),n._introCompleted=n._introCompleted.bind(Object(v.a)(n)),n._initGeo=n._initGeo.bind(Object(v.a)(n)),n._geolocationSuccess=n._geolocationSuccess.bind(Object(v.a)(n)),n._geolocationError=n._geolocationError.bind(Object(v.a)(n)),n._watchGeoSuccess=n._watchGeoSuccess.bind(Object(v.a)(n)),n._watchGeoError=n._watchGeoError.bind(Object(v.a)(n)),n._geoCompleted=n._geoCompleted.bind(Object(v.a)(n)),window.callbackDownload=n._loaded,n}return Object(b.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.music=new it;var e=this.music.audioHowl;e.once("load",(function(){t.setState({musicLoaded:!0})})),e.on("end",this._songEnd);this.visageModule=window.VisageModule({onRuntimeInitialized:this._loaded,locateFile:function(t){return"lib/"+t}});this.visageModule.preRun.push((function(){t.visageModule.FS_createPreloadedFile("/","FFT-High.cfg","lib/Facial Features Tracker - High.cfg",!0,!1),t.visageModule.FS_createPreloadedFile("/",t.state.licenseName,t.state.licenseURL,!0,!1,(function(){}),(function(){console.error("Loading License Failed!")}))}))}},{key:"_initGeo",value:function(){var t=this;this.setState({loadingGeo:!0},(function(){return navigator.geolocation.getCurrentPosition(t._geolocationSuccess,t._geolocationError,t.state.geoOptions)}))}},{key:"_geolocationSuccess",value:function(t){var e=t.coords,n=e.latitude,i=e.longitude;console.log("_geolocationSuccess longitude: ".concat(n," | latitude: ").concat(i)),console.log({position:t}),this._checkLocation(n,i)}},{key:"_geolocationError",value:function(t){console.warn("_geolocationError (".concat(t.code,"): ").concat(t.message))}},{key:"_watchGeo",value:function(){var t=this;console.log("_watchGeo"),y.a.to(this.$locationAccess.current,.5,{opacity:0,y:20,display:"none",onComplete:function(){y.a.fromTo(t.$location.current,1,{display:"block",opacity:0,y:-20},{delay:1,opacity:1,y:0,onComplete:function(){t.watchPosition=navigator.geolocation.watchPosition(t._watchGeoSuccess,t._watchGeoError,t.state.geoOptions)}})}})}},{key:"_watchGeoSuccess",value:function(t){var e=t.coords,n=e.latitude,i=e.longitude;console.log("_watchGeoSuccess longitude: ".concat(n," | latitude: ").concat(i)),console.log({position:t}),this._checkLocation(n,i)}},{key:"_watchGeoError",value:function(t){console.warn("_geolocationError (".concat(t.code,"): ").concat(t.message))}},{key:"_checkLocation",value:function(t,e){var n=this.state.location,i=function(t,e,n,i){var a=Math.PI*t/180,r=Math.PI*n/180,o=e-i,s=Math.PI*o/180,c=Math.sin(a)*Math.sin(r)+Math.cos(a)*Math.cos(r)*Math.cos(s);return c>1&&(c=1),c=60*(c=180*(c=Math.acos(c))/Math.PI)*1.1515,c*=1.609344}(t,e,n.latitude,n.longitude),a="".concat(Math.round(1e3*i).toLocaleString()," meter");this.setState({distance:a}),console.log("_checkLocation",a,i),i<1?this._geoCompleted():this.watchPosition||this._watchGeo()}},{key:"_introCompleted",value:function(){y.a.fromTo(this.$locationAccess.current,1,{display:"block",opacity:0,y:-20},{opacity:1,y:0,onComplete:function(){}})}},{key:"_geoCompleted",value:function(){var t=this;console.log("_geoCompleted"),this.watchPosition&&navigator.geolocation.clearWatch(this.watchPosition),y.a.to([this.$locationAccess.current,this.$location.current],.5,{opacity:0,y:20,display:"none",onComplete:function(){y.a.fromTo(t.$ready.current,1,{display:"block",opacity:0,y:-20},{delay:1,opacity:1,y:0,onComplete:function(){}})}})}},{key:"_songEnd",value:function(){var t=this;this.setState({eyesClosedCount:this.eyesClosedCount,eyesClosedSession:"1 minute and 4 seconds"}),y.a.to(this.$closeYourEyes.current,.5,{opacity:0,display:"none",onComplete:function(){y.a.fromTo(t.$completed.current,1,{display:"block",opacity:0,y:-20},{delay:1,opacity:1,y:0,onComplete:function(){}})}})}},{key:"_readyToCloseEyes",value:function(){var t=this,e=this.$closeYourEyes.current,n=new w.a(e,{type:"words",wordsClass:"word word++"});this.closeEyesTimeline=y.a.timeline({onComplete:function(){t.block=!1}}).set(e,{display:"block"}).from(n.words,{duration:2,opacity:0,y:3,ease:"power2",stagger:.1},"words")}},{key:"_loaded",value:function(){var t=this;this.visageModule.initializeLicenseManager(this.state.licenseName),this.m_Tracker=new this.visageModule.VisageTracker("FFT-High.cfg"),this.faceDataArray=new this.visageModule.FaceDataVector,this.faceData=new this.visageModule.FaceData,this.faceDataArray.push_back(this.faceData),this.mWidth=this.$canvas.current.width,this.mHeight=this.$canvas.current.height,this.ppixels=this.visageModule._malloc(this.mWidth*this.mHeight*4),this.pixels=new Uint8ClampedArray(this.visageModule.HEAPU8.buffer,this.ppixels,this.mWidth*this.mHeight*4),this.canvasContext=this.$canvas.current.getContext("2d"),this.eyesClosed=!1,this.eyesClosedCounter=0,y.a.fromTo(this.$preloader.current,1.2,{visibility:"visible",y:"100%"},{delay:1,y:"0%",ease:"expo.inOut",onComplete:function(){y.a.set(t.$loader.current,{display:"none"}),y.a.to(t.$preloader.current,1.2,{y:"-100%",ease:"expo.inOut",onComplete:function(){t.setState({sdkLoaded:!0})}})}})}},{key:"_initStream",value:function(){var t=this;return d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.music._fadeIn(),this.block=!0,y.a.to(this.$ready.current,.5,{opacity:0,y:20,display:"none",onComplete:function(){var e;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.$video=document.createElement("video"),n.prev=1,n.next=4,d.a.awrap(navigator.mediaDevices.getUserMedia({video:!0,audio:!1}));case 4:e=n.sent,t.$video.addEventListener("canplay",t._canPlayStream),t.$video.setAttribute("muted",!0),t.$video.setAttribute("playsinline",!0),t.$video.srcObject=e,t.$video.load(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),t._errorStream(n.t0);case 15:case"end":return n.stop()}}),null,null,[[1,12]])}});case 3:case"end":return e.stop()}}),null,this)}},{key:"_errorStream",value:function(t){t&&console.error(t)}},{key:"_canPlayStream",value:function(t){this.startTracking=!0,this.draw=!0,this.eyesClosedCount=0,this.$video.removeEventListener("canplay",this._canPlayStream),this.$video.play(),this.$canvas.current.width=this.state.width,this.$canvas.current.height=this.state.height,this.mWidth=this.state.width,this.mHeight=this.state.height,this._tick(),this._readyToCloseEyes()}},{key:"_tick",value:function(){window.requestAnimationFrame(this._tick),this.canvasContext.drawImage(this.$video,0,0,this.mWidth,this.mHeight),this.imageData=this.canvasContext.getImageData(0,0,this.mWidth,this.mHeight).data;for(var t=0;t<this.imageData.length;t+=4)this.pixels[t]=this.imageData[t];if(this.trackerReturnState=this.m_Tracker.track(this.mWidth,this.mHeight,this.ppixels,this.faceDataArray,this.visageModule.VisageTrackerImageFormat.VISAGE_FRAMEGRABBER_FMT_RGBA.value,this.visageModule.VisageTrackerOrigin.VISAGE_FRAMEGRABBER_ORIGIN_TL.value),this.trackerReturnState[0]===this.visageModule.VisageTrackerStatus.TRACK_STAT_OK.value){var e=this.faceData.getEyeClosure();0===e[0]&&0===e[1]?this.eyesClosedCounter>this.state.threshold?(this.eyesClosed=!0,this.eyesClosedCount++):this.eyesClosedCounter++:(this.eyesClosedCounter=0,this.eyesClosed=!1)}else this.eyesClosedCounter=0,this.eyesClosed=!1;this.block||(this.eyesClosed?(this.closedForTheFirstTime=!0,this.music._fadeIn(),this.closeEyesTimeline.reverse()):(this.music._fadeOut(),this.closeEyesTimeline&&this.closedForTheFirstTime&&this.closeEyesTimeline.play()))}},{key:"render",value:function(){return a.a.createElement($t,null,a.a.createElement(Tt,{ref:this.$preloader}),a.a.createElement(At,null,!this.state.sdkLoaded&&a.a.createElement(K,{ref:this.$loader},"Laster en ny type opplevelse..."),a.a.createElement(et,{sdkLoaded:this.state.sdkLoaded,onComplete:this._introCompleted}),a.a.createElement(Lt,{ref:this.$locationAccess},this.state.loadingGeo?a.a.createElement(K,null):a.a.createElement(i.Fragment,null,a.a.createElement(F,{rank:2,asRank:4},"Bes\xf8k Festiviteten i Skien"),a.a.createElement(A,null,"For \xe5 lytte s\xe5 m\xe5 du bes\xf8ke v\xe5rt nye konserthus i Skien."),a.a.createElement(Wt,{onClick:this._initGeo},a.a.createElement(Ut,null),"Hvor er du n\xe5?"))),a.a.createElement(Ht,{ref:this.$location},a.a.createElement(F,{rank:2,asRank:4},"Beklager"),a.a.createElement(A,null,"Du er ",this.state.distance," unna. Bes\xf8k Festiviteten i Skien.")),a.a.createElement(zt,{ref:this.$ready},a.a.createElement(F,{rank:2,asRank:4},"Er du klar?"),a.a.createElement(A,null,"Vi m\xe5 ha tilgang til kameraet ditt for \xe5 se om du lukker \xf8ynene."),a.a.createElement(Wt,{onClick:this._initStream},a.a.createElement(Nt,null),"Gi kamera tilgang")),a.a.createElement(Ft,{ref:this.$completed},a.a.createElement(F,{rank:2,asRank:4},"We hope you enjoyed ",X.a.SONG_TITLE," by ",X.a.ARTIST_NAME,"."),a.a.createElement(A,null,"You opened your eyes ",this.state.eyesClosedCount," times and your longest consecutive session was ",this.state.eyesClosedSession," ")),a.a.createElement(Bt,{ref:this.$closeYourEyes},a.a.createElement("strong",null,"Close your eyes")," to listen.")),a.a.createElement(Vt,{ref:this.$canvas,width:this.state.width,height:this.state.height}),a.a.createElement(Dt,{onClick:this._songEnd}),a.a.createElement(Gt,{onClick:this._geoCompleted}))}}]),e}(i.PureComponent);function ne(){var t=Object(s.a)(["font-size: ",";"]);return ne=function(){return t},t}function ie(){var t=Object(s.a)(["font-size: ",";"]);return ie=function(){return t},t}function ae(){var t=Object(s.a)(["font-size: ",";"]);return ae=function(){return t},t}function re(){var t=Object(s.a)(["font-size: ",";"]);return re=function(){return t},t}function oe(){var t=Object(s.a)(["\n\t*,\n\t*:before,\n\t*:after {\n\t box-sizing: inherit;\n\t outline: none;\n\t // -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\t -webkit-font-smoothing: antialiased;\n\t}\n\n\t","\n\n\thtml {\n\t\tbox-sizing: border-box;\n\n\t\tfont-size: ",";\n\n\t\t","\n\t\t","\n\t\t","\n\t\t","\n\t}\n\n\tbody {\n\t\tfont-family: ",";\n\t\tfont-weight: ",";\n\t\tfont-style: normal;\n\t\tline-height: 1;\n\t\toverflow-x: hidden;\n\t}\n\n\tdiv {\n\t  white-space: pre-wrap;\n\t}\n\n\tarticle,\n\taside,\n\tdetails,\n\tfigcaption,\n\tfigure,\n\tfooter,\n\theader,\n\thgroup,\n\tmain,\n\tmenu,\n\tnav,\n\tsection,\n\tsummary {\n\t\tdisplay: block;\n\t}\n\n\ta {\n\t\ttext-decoration: none;\n\t}\n\n\tfigure {\n\t\tmargin: 0;\n\t}\n\n\tstrong {\n\t\tfont-weight: ",";\n\t}\n\n\tbutton {\n\t\tfont-family: inherit;\n\t\tfont-weight: inherit;\n\t\tline-height: 1;\n\n\t\tmargin: 0;\n\t\tpadding: 0;\n\n\t\tborder: 0;\n\t\tbackground: transparent;\n\t}\n\n\tfieldset {\n\t\tborder: 0;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t}\n"]);return oe=function(){return t},t}var se=Object(c.a)(oe(),Object(x.c)(),O.small,M.small(re(),O.small),M.medium(ae(),O.medium),M.large(ie(),O.large),M.xlarge(ne(),O.xlarge),k.body,E.normal,E.bold);function ce(){var t=Object(s.a)(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tpointer-events: none;\n\tz-index: 200;\n\tbackground: repeating-linear-gradient(90deg,#979797,#979797 1px,transparent 0,transparent 16.66667vw);\n\topacity: .06;\n"]);return ce=function(){return t},t}var le=c.c.div(ce()),ue=n(9),he=n(25),de=n(26),fe=n.n(de),pe=n(27),me=n.n(pe),ge=function(){function t(e){var n=this;Object(f.a)(this,t),this.scene=new ue.e,this.vertex="varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",this.fragment=e.fragment,this.uniforms=e.uniforms,this.renderer=new ue.i,this.width=window.innerWidth,this.height=window.innerHeight,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.setClearColor(15658734,1),this.duration=e.duration||1,this.debug=e.debug||!1,this.easing=e.easing||"easeInOut",this.clicker=document,this.container=e.el,this.bgCanvas=e.bgCanvas;var i=window,a=i.innerWidth,r=i.innerHeight;this.images=[fe.a,me.a],this.width=a,this.height=r,this.container.appendChild(this.renderer.domElement),this.camera=new ue.c(70,window.innerWidth/window.innerHeight,.001,1e3),this.camera.position.set(0,0,2),this.time=0,this.current=0,this.textures=[],this.next=this.next.bind(this),this.paused=!0,this.initiate((function(){console.log(n.textures),n.setupResize(),n.settings(),n.addObjects(),n.resize(),n.clickEvent(),n.play()}))}return Object(p.a)(t,[{key:"initiate",value:function(t){var e=this,n=[],i=this;this.images.forEach((function(t,e){var a=new Promise((function(n){i.textures[e]=(new ue.g).load(t,n)}));n.push(a)})),Promise.all(n).then((function(){console.log("this.bgCanvas",e.bgCanvas),i.textures[0]=(new ue.g).load(e.bgCanvas.b.toDataURL()),t()}))}},{key:"clickEvent",value:function(){}},{key:"settings",value:function(){var t=this;this.debug&&(this.gui=new he.a),this.settings={progress:.5},Object.keys(this.uniforms).forEach((function(e){t.settings[e]=t.uniforms[e].value,t.debug&&t.gui.add(t.settings,e,t.uniforms[e].min,t.uniforms[e].max,.01)}))}},{key:"setupResize",value:function(){window.addEventListener("resize",this.resize.bind(this))}},{key:"resize",value:function(){var t,e,n=window,i=n.innerWidth,a=n.innerHeight;this.width=i,this.height=a,this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.imageAspect=a/i,this.height/this.width>this.imageAspect?(t=this.width/this.height*this.imageAspect,e=1):(t=1,e=this.height/this.width/this.imageAspect),this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.material.uniforms.resolution.value.z=t,this.material.uniforms.resolution.value.w=e;var r=this.camera.position.z;this.camera.fov=180/Math.PI*2*Math.atan(1/(2*r)),this.plane.scale.x=this.camera.aspect,this.plane.scale.y=1,this.camera.updateProjectionMatrix()}},{key:"addObjects",value:function(){this.material=new ue.f({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:ue.a,uniforms:{time:{type:"f",value:0},progress:{type:"f",value:0},border:{type:"f",value:0},intensity:{type:"f",value:0},scaleX:{type:"f",value:40},scaleY:{type:"f",value:40},transition:{type:"f",value:40},swipe:{type:"f",value:0},width:{type:"f",value:0},radius:{type:"f",value:0},texture1:{type:"f",value:this.textures[0]},texture2:{type:"f",value:this.textures[1]},displacement:{type:"f",value:(new ue.g).load("img/disp1.jpg")},resolution:{type:"v4",value:new ue.h}},vertexShader:this.vertex,fragmentShader:this.fragment}),this.geometry=new ue.d(1,1,2,2),this.plane=new ue.b(this.geometry,this.material),this.scene.add(this.plane)}},{key:"stop",value:function(){this.paused=!0}},{key:"play",value:function(){this.paused=!1,this.render()}},{key:"next",value:function(){var t=this;if(!this.isRunning){this.isRunning=!0;var e=this.textures.length,n=this.textures[(this.current+1)%e];this.material.uniforms.texture2.value=n,y.a.timeline().to(this.material.uniforms.progress,this.duration,{value:1,ease:"power2.inOut",onComplete:function(){console.log("FINISH"),t.current=(t.current+1)%e,t.material.uniforms.texture1.value=n,t.material.uniforms.progress.value=0,t.isRunning=!1}})}}},{key:"render",value:function(){var t=this;this.paused||(this.time+=.05,this.material.uniforms.time.value=this.time,Object.keys(this.uniforms).forEach((function(e){t.material.uniforms[e].value=t.settings[e]})),window.requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera))}}]),t}();function ve(){var t=Object(s.a)(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\n\tcanvas {\n\t\tposition: absolute;\n\t\tz-index: 99;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n"]);return ve=function(){return t},t}function be(){var t=Object(s.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n"]);return be=function(){return t},t}var ye=Math.cos,we=Math.sin,xe=c.c.canvas(be()),ke=c.c.div(ve()),Oe=function(t){function e(t){var n;return Object(f.a)(this,e),(n=Object(m.a)(this,Object(g.a)(e).call(this,t))).state={particleCount:700,particlePropCount:9,particlePropsLength:6300,baseTTL:100,rangeTTL:500,baseSpeed:.1,rangeSpeed:1,baseSize:2,rangeSize:10,baseHue:0,rangeHue:1,noiseSteps:2,xOff:.0025,yOff:.005,zOff:5e-4,backgroundColor:"rgb(255, 255, 255)",hue:225},n.$canvasB=a.a.createRef(),n.$status=a.a.createRef(),n.$background=a.a.createRef(),n._next=n._next.bind(Object(v.a)(n)),n._draw=n._draw.bind(Object(v.a)(n)),n._play=n._play.bind(Object(v.a)(n)),n._pause=n._pause.bind(Object(v.a)(n)),n._mouseMove=n._mouseMove.bind(Object(v.a)(n)),n}return Object(b.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("mousemove",this._mouseMove,!1);var t=nt.Howler._howls[0];console.log("_howls",nt.Howler._howls,t),t.on("play",this._play),t.on("pause",this._pause),this._createCanvas(),this._resize(),this._initParticles(),this._draw()}},{key:"_webgl",value:function(){this.sketch=new ge({el:this.$background.current,bgCanvas:this.canvas,duration:1,debug:!0,uniforms:{radius:{value:.9,type:"f",min:.1,max:2},width:{value:.35,type:"f",min:0,max:1}},fragment:"\n\t\t\t\tuniform float progress;\n\t\t\t\tuniform float width;\n\t\t\t\tuniform float transition;\n\t\t\t\tuniform float radius;\n\t\t\t\tuniform sampler2D texture1;\n\t\t\t\tuniform sampler2D texture2;\n\t\t\t\tuniform vec4 resolution;\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tvarying vec4 vPosition;\n\t\t\t\tfloat parabola( float x, float k ) {\n\t\t\t\t\treturn pow( 4. * x * ( 1. - x ), k );\n\t\t\t\t}\n\t\t\t\tvoid main()\t{\n\t\t\t\tvec2 newUV = (vUv - vec2(0.5))*resolution.zw + vec2(0.5);\n\t\t\t\tvec2 p = newUV;\n\t\t\t\tvec2 start = vec2(0.5,0.5);\n\t\t\t\tvec2 aspect = resolution.wz;\n\t\t\t\tvec2 uv = newUV;\n\t\t\t\tfloat dt = parabola(progress, 1.);\n\t\t\t\tfloat prog = progress*0.66;\n\t\t\t\tfloat circ = 1. - smoothstep(-width, 0.0, radius * distance(start*aspect, uv*aspect) - prog*(1.+width));\n\t\t\t\tfloat intpl = pow(abs(circ), 1.);\n\t\t\t\tvec4 t1 = texture2D( texture1, (uv - 0.5) * (1.0 - intpl) + 0.5 ) ;\n\t\t\t\tvec4 t2 = texture2D( texture2, (uv - 0.5) * intpl + 0.5 );\n\t\t\t\tgl_FragColor = mix( t1, t2, intpl );\n\t\t\t}\n\t\t\t"}),console.log({sketch:this.sketch})}},{key:"_createCanvas",value:function(){this.canvas={a:document.createElement("canvas"),b:this.$canvasB.current},this.ctx={a:this.canvas.a.getContext("2d"),b:this.canvas.b.getContext("2d")},this.center=[]}},{key:"_initParticles",value:function(){var t;for(this.particleProps=new Float32Array(this.state.particlePropsLength),t=0;t<this.state.particlePropsLength;t+=this.state.particlePropCount)this._initParticle(t)}},{key:"_initParticle",value:function(t){var e,n,i,a,r,o,s,c,l;n=Qt(this.canvas.a.width),i=Qt(this.canvas.a.height),e=Zt(n,i,this.center[0],this.center[1]),a=6*ye(e),r=6*we(e),o=this.state.baseTTL+Qt(this.state.rangeTTL),s=this.state.baseSpeed+Qt(this.state.rangeSpeed),c=this.state.baseSize+Qt(this.state.rangeSize),l=this.state.baseHue+Qt(this.state.rangeHue),this.particleProps.set([n,i,a,r,0,o,s,c,l],t)}},{key:"_drawParticles",value:function(){var t;for(t=0;t<this.state.particlePropsLength;t+=this.state.particlePropCount)this._updateParticle(t)}},{key:"_updateParticle",value:function(t){var e,n,i,a,r,o,s,c,l,u,h,d,f=1+t,p=2+t,m=3+t,g=4+t,v=5+t,b=6+t,y=7+t,w=8+t;e=this.particleProps[t],n=this.particleProps[f],i=Zt(e,n,this.center[0],this.center[1])+.75*Jt,a=te(this.particleProps[p],2*ye(i),.05),r=te(this.particleProps[m],2*we(i),.05),o=this.particleProps[g],s=this.particleProps[v],l=e+a*(c=this.particleProps[b]),u=n+r*c,h=this.particleProps[y],d=this.particleProps[w],this._drawParticle(e,n,i,o,s,h,d),o++,this.particleProps[t]=l,this.particleProps[f]=u,this.particleProps[p]=a,this.particleProps[m]=r,this.particleProps[g]=o,o>s&&this._initParticle(t)}},{key:"_drawParticle",value:function(t,e,n,i,a,r,o){var s=t-.5*r,c=e-.5*r;this.ctx.a.save(),this.ctx.a.lineCap="round",this.ctx.a.lineWidth=1,this.ctx.a.strokeStyle="rgba(".concat(this.hue||this.state.hue,", 225, 225, ").concat(function(t,e){var n=.5*e;return Kt((t+n)%e-n)/n}(i,a),")"),this.ctx.a.beginPath(),this.ctx.a.translate(s,c),this.ctx.a.rotate(n),this.ctx.a.translate(-s,-c),this.ctx.a.strokeRect(s,c,r,r),this.ctx.a.closePath(),this.ctx.a.restore()}},{key:"_renderGlow",value:function(){this.ctx.b.save(),this.ctx.b.filter="blur(8px) brightness(300%)",this.ctx.b.globalCompositeOperation="darken",this.ctx.b.drawImage(this.canvas.a,0,0),this.ctx.b.restore(),this.ctx.b.save(),this.ctx.b.filter="blur(4px) brightness(300%)",this.ctx.b.globalCompositeOperation="darken",this.ctx.b.drawImage(this.canvas.a,0,0),this.ctx.b.restore()}},{key:"_render",value:function(){this.ctx.b.save(),this.ctx.b.globalCompositeOperation="darken",this.ctx.b.drawImage(this.canvas.a,0,0),this.ctx.b.restore()}},{key:"_draw",value:function(){this.tick++,this.ctx.a.clearRect(0,0,this.canvas.a.width,this.canvas.a.height),this.ctx.b.fillStyle=this.state.backgroundColor,this.ctx.b.fillRect(0,0,this.canvas.a.width,this.canvas.a.height),this._drawParticles(),this._renderGlow(),this._render(),window.requestAnimationFrame(this._draw)}},{key:"_mouseMove",value:function(t){this.center=[t.pageX,t.pageY]}},{key:"_play",value:function(){}},{key:"_pause",value:function(){}},{key:"_next",value:function(){var t=this;console.log("_next"),this.sketch.isRunning=!0;var e=this.sketch.textures.length,n=this.sketch.textures[(this.sketch.current+1)%e];this.sketch.material.uniforms.texture2.value=n,y.a.timeline().to(this.sketch.material.uniforms.progress,this.sketch.duration,{value:1,ease:"power2.inOut",onComplete:function(){t.sketch.current=(t.sketch.current+1)%e,t.sketch.material.uniforms.texture1.value=n,t.sketch.material.uniforms.progress.value=0,t.sketch.isRunning=!1}})}},{key:"_resize",value:function(){var t=window,e=t.innerWidth,n=t.innerHeight;this.canvas.a.width=e,this.canvas.a.height=n,this.ctx.a.drawImage(this.canvas.b,0,0),this.canvas.b.width=e,this.canvas.b.height=n,this.ctx.b.drawImage(this.canvas.a,0,0)}},{key:"render",value:function(){return a.a.createElement(ke,{ref:this.$background},a.a.createElement(xe,{ref:this.$canvasB,width:this.state.width,height:this.state.height}))}}]),e}(i.PureComponent);function _e(){var t=Object(s.a)([""]);return _e=function(){return t},t}c.c.button(_e());var je=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(se,null),a.a.createElement(u,null,a.a.createElement(ee,null),a.a.createElement(Oe,null),a.a.createElement(le,null)))};o.a.render(a.a.createElement(je,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.7090d6de.chunk.js.map